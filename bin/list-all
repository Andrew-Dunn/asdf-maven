#!/bin/env bash

# super clumsy regex to locate all Maven version tags on their history page
PATTERN=".*<td>(<b>)?([0-9]\.[0-9](\.[0-9])?(-.*)?)(</b>)?</td>.*"

# iterate all lines coming back from the Maven release history
for line in $(curl -s https://maven.apache.org/docs/history.html)
do
    # look for Maven versions
    if [[ $line =~ $PATTERN ]]
    then
        # print on a match
        echo ${BASH_REMATCH[2]}
    fi
done
